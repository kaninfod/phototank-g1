c
photo
c
photo.file_thumb_path
Catalog.master.id
photo
photo.original_filename
c
n
c
Resque.size(:local_sync)
c
Resque.size(:local_sync)
c
r
c
n
Resque.size(:import)
n
Resque.size(:import)
c
Resque.size(:import).to_s
n
c
n
File.exist?(path)
s
@catalog.watch_path[0]
@catalog.watch_path
File.exist?("/Users/martinhinge/rails_projects/phototank/test/test_files/import/path_a")
@catalog
path
n
c
n
Catalog.find(params[:id])
Catalog.all
params
c
@photo.send(:@date_path)
c
@photo
photo@
@photo.send(:photo_exist, @photo.filename, @photo.date_taken)
c
 @photo.send(:photo_exist, "","")
c
@photo.send(:photo_exist, "","")
@photo.send(:photo_exist())
@photo.send(:photo_exist'()')
@photo.send(:photo_exist())
@photo.send(:photo_exist)
@photo.send(:photo_exist("",""))
@photo
disrespect_privacy @photo do
disrespect_privacy @photo
c
n
c
e
n
@photo
c
continue
c
n
continue
c
src
File.exist?(photo.absolutepath(catalog_id))
File.exist?(dst)
src
c
src
dst
c
FileUtils.mkdir_p dst
FileUtils.cp src, dst
dst
src
n
src
n
File.join(Catalog.find(catalog_id).path, photo.path)
photo
n
q
c
n
c
n
c
photo.absolutepath(self.id)
c
photo.absolutepath(self.id)
c
n
c
n
no_loc.first
no_loc
n
@photo
c
Location.where{(latitude.eq(0) & longitude.eq(0))}
n
c
n
c
@catalog
n
@catalog
c
n
params['import_action']
c
params['import_action']
c
params
c
params
c
params
c
redirect_to @catalog and return
c
redirect_to "/catalogs/show"
c
redirect_to "catalogs/show"
c
redirect_to "show"
c
redirect_to "catalogs/show"
c
d.photos
d=Catalog.find(params[:id])
Catalog.find(params[:id])
params[:id]
c
Photo.where{filename.eq("c0da7400300344f4c795226f58dcfcfeadef35d0197947086634a2924c52f535") }
Photo.where{filename.eq("c0da7400300344f4c795226f58dcfcfeadef35d0197947086634a2924c52f535") }.first.filename
Photo.where(filename: "cb3fd7808c01921839a71aa123601ad31500937ad92d3e2ad69c7872fa7686df")
Photo.where(filename: ""cb3fd7808c01921839a71aa123601ad31500937ad92d3e2ad69c7872fa7686df"")
Photo.where{filename.eq(self.filename) }.first.filename
Photo.where{filename.eq(self.filename) }
Photo.where(filename: self.filename)
self.filename
Photo.where{filename.eq(self.filename) }
Photo.where{filename.eq(self.filename) & date_taken.eq(self.date_taken)}
Photo.where{filename.eq(self.filename) | date_taken.eq(self.date_taken)}
Photo.where{filename.eq(self.filename) & date_taken.eq(self.date_taken)}
existing_photo.present?
self.filename
existing_photo
existing_photo.present?
n
existing_photo.present?
self.filename
existing_photo.present?
c
existing_photo.present?
c
n
existing_photo.present?
existing_photo
n
c
n
c
n
c
existing_photo
n
c
n
existing_photo.present?
n
c
existing_photo.first.validate_files
existing_photo.present?
n
c
n
photo
n
photo.import_path
photo
n
photo
n
continue
q
c
n
c
n
c
FileUtils.cp self.import_path, File.join(_absolute_path_original, self.filename + self.file_extension)
FileUtils.cp self.import_path File.join(_absolute_path_original self.filename + self.file_extension)
File.join(_absolute_path_original, self.filename + self.file_extension)
self.import_path File.join(_absolute_path_original), self.filename + self.file_extension)
self.import_path File.join(_absolute_path_original, self.filename + self.file_extension)
FileUtils.cp self.import_path File.join(_absolute_path_original, self.filename + self.file_extension)
c
n
c
File.join(_absolute_path_original, self.filename + self.file_extension)
_absolute_path_original
self.import_path
c
sub_path
c
sub_path
subpath
n
c
n
self.resize_photo
resize_photo
c
self.resize_photo()
resize_photo
self.resize_photo
c
n
c
n
c
n
c
n
c
n
c
n
c
n
c
Catalog.master
self.catalogs
self.catalog(1)
self.catalog
self
self.catelog
n
c
n
c
n
c
self.date_taken
n
c
n
c
cc
